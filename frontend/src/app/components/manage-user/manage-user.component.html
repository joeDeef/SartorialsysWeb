<div class="user-detail-container">
  <h2>Detalles del Usuario</h2>
  <form (ngSubmit)="updateUser()" #userForm="ngForm">
    <label for="name">Nombre:</label>
    <input id="name" [(ngModel)]="user.name" name="name" required #name="ngModel" />
    <div class="error" *ngIf="name.invalid && name.touched">El nombre es obligatorio</div>
  
    <label for="last_name">Apellido:</label>
    <input id="last_name" [(ngModel)]="user.last_name" name="last_name" required #lastName="ngModel" />
    <div class="error" *ngIf="lastName.invalid && lastName.touched">El apellido es obligatorio</div>
  
    <label for="email">Email:</label>
    <input id="email" [(ngModel)]="user.email" name="email" required #email="ngModel" />
    <div class="error" *ngIf="email.invalid && email.touched">El email es obligatorio y debe ser válido</div>
  
    <label for="role">Rol:</label>
    <select id="role" [(ngModel)]="user.role" name="role" required #role="ngModel">
      <option value="user">User</option>
      <option value="admin">Admin</option>
    </select>
    <div class="error" *ngIf="role.invalid && role.touched">Debe seleccionar un rol</div>
  
    <label for="password">Contraseña:</label>
    <div class="password-input-wrapper">
      <input 
        id="password" 
        type="{{passwordFieldType}}" 
        [(ngModel)]="user.password" 
        name="password" 
        placeholder="Ingresa la contraseña"
        #password="ngModel"
      />
      <button 
        type="button" 
        class="toggle-password-btn" 
        (click)="togglePassword()">
        <i class="fa" [ngClass]="passwordFieldType === 'password' ? 'fa-eye' : 'fa-eye-slash'"></i>
      </button>
    </div>
  
    <div class="button-container">
      <button type="submit">Actualizar</button>
      <button class="delete-btn" (click)="deleteUser()">Eliminar Usuario</button>
    </div>
  </form>
  <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>  
</div>